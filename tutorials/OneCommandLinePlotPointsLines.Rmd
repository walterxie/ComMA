---
title: "One Command Line Plot - Points and Lines"
author: "Walter Xie"
date: "09/02/2017"
output:
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

One of the feature of [**ComMA**](http://github.com/walterxie/ComMA) package is to simplify [ggplot2](http://docs.ggplot2.org/current/) codes into one-line functions, and also to provide some other useful utility functions.

```{r library, warning=FALSE}
library(ComMA)
#getwd()
```

## Scatter plot

Create random coordinates for 2 clusters:

```{r random2Clusters}
df.clusters <- random2Clusters()
df.clusters$labels <- rownames(df.clusters)
df.clusters[1:3,]
```

Scatter plots may have overlaps between data points and axises. <code>unclip.ggplot</code> can turns off clipping, but it returns a *gtable* object, so that either <code>pdf.gtplot</code> or <code>plot.gtable</code> will be used to handle the plot.

```{r ScatterPlot1, warning=FALSE}
gg.plot <- ggScatterPlot(df.clusters, x.id="x", y.id="y", colour.id="group", shape.id="group", 
                         title="Clusters", palette="Set1", verbose=F)
# turns off clipping
g.table <- unclip.ggplot(gg.plot) 
plot(g.table)
```

### Some tricks

<code>ellipsed.id="group"</code> creates ellipses by groups, <code>text.id="labels"</code> defines the column for labels, <code>xintercept=0 and yintercept=0</code> sets the coordinate axes, and <code>text.data=subset(df.clusters, x > 3 & y > 6)</code> selectively labels the points at x > 3 and y > 6:

```{r ScatterPlot2, warning=FALSE}
ggScatterPlot(df.clusters, x.id="x", y.id="y", colour.id="group", ellipsed.id="group", text.id="labels", 
              text.data=subset(df.clusters, x > 3 & y > 6), xintercept=0, yintercept=0,  
              title="Clusters", palette="Set1", verbose=F)
```

## Non-metric multidimensional scaling

Load the example data *reads.phyla*, where *x* is one of genetic marks, and the numbers are eDNA sequences (reads) identified as the phylum listed in *y*:

```{r reads.phyla}

```

Because the functions to compute NMDS *metaMDS*, PCoA *cmdscale*, and PCA *prcomp* take different input data, please make sure you give a valid input for different NMDS plots.

### NMDS using *metaMDS* 

It is also known as principal coordinates analysis (Gower, 1966).



## Line with points


